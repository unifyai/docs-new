---
title: 'Fine-tuned Custom Router'
---

Weâ€™ve found that the best results for LLM routing come when you train on similar prompts 
to those that are going to be used in production. To train a custom router, you need to:

- Prepare a training dataset
- Train a router, and visualise the results
- Query your trained router

### Preparing a dataset

The format for the dataset is the same as the one used in 
[benchmarking](https://unify.ai/docs/api/benchmarks.html), i.e. a JSONL file with entries 
of the form `{"prompt": xxx, "ref_answer": yyy}`. Reference answers are optional, but 
improve accuracy of the final system.

### Training a router (beta)

In your [dashboard](https://console.unify.ai/dashboard), click `Select Benchmark` and then
`Train a router`, to upload your dataset.

After uploading the dataset, a router will be trained. Once it's finished training, you'll
receive an email, and the graph will be displayed in your 
[dashboard](https://console.unify.ai/dashboard). Here you will be able to choose a router 
configuration, and copy the router string to use in the API.
